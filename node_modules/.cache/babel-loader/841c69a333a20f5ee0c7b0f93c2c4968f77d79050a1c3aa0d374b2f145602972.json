{"ast":null,"code":"var _jsxFileName = \"/Users/zxj/Desktop/GovHack/mainCode/frontend/src/utils/StateBarChart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ReactECharts from \"echarts-for-react\";\nimport { sendRequest } from \"./requests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function StateBarChart() {\n  _s();\n  const [data, setData] = useState([]);\n  const [country, setCountry] = useState([]);\n  const [sentiment, setSentiment] = useState([]);\n  useEffect(() => {\n    sendRequest(\"/twitter/sentiment\").then(res => {\n      setData(res.data.data);\n    });\n  }, []);\n\n  //设置x轴和y轴的值 处理数据\n  useEffect(() => {\n    const newCountries = [];\n    const newSentiments = [];\n    data.map(item => {\n      newCountries.push(item.gcc);\n      newSentiments.push(item.sentiment_avg);\n    });\n    //收到20万条数据\n    setCountry(newCountries);\n    setSentiment(newSentiments);\n  }, [data]);\n\n  //写入表格\n  const getOption = () => {\n    return {\n      tooltip: {\n        trigger: \"axis\"\n      },\n      grid: {\n        left: \"3%\",\n        right: \"4%\",\n        bottom: \"3%\",\n        containLabel: true\n      },\n      title: {\n        text: \"Overall Sentiment Analysis\",\n        left: \"center\",\n        textStyle: {\n          color: \"purple\"\n        }\n      },\n      xAxis: {\n        type: \"category\",\n        data: country\n      },\n      yAxis: {\n        type: \"value\"\n      },\n      series: [{\n        type: \"bar\",\n        data: sentiment,\n        itemStyle: {\n          // color: \"#F0CAA3\",\n          color: \"#0099ff\"\n        }\n      }]\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(ReactECharts, {\n    option: getOption(),\n    style: {\n      height: \"100%\",\n      width: \"100%\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n_s(StateBarChart, \"5yIHoavSLmyy40oD5cLMX7W9bA4=\");\n_c = StateBarChart;\nvar _c;\n$RefreshReg$(_c, \"StateBarChart\");","map":{"version":3,"names":["React","useState","useEffect","ReactECharts","sendRequest","jsxDEV","_jsxDEV","StateBarChart","_s","data","setData","country","setCountry","sentiment","setSentiment","then","res","newCountries","newSentiments","map","item","push","gcc","sentiment_avg","getOption","tooltip","trigger","grid","left","right","bottom","containLabel","title","text","textStyle","color","xAxis","type","yAxis","series","itemStyle","option","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/zxj/Desktop/GovHack/mainCode/frontend/src/utils/StateBarChart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactECharts from \"echarts-for-react\";\nimport { sendRequest } from \"./requests\";\nexport function StateBarChart() {\n  const [data, setData] = useState([]);\n  const [country, setCountry] = useState([]);\n  const [sentiment, setSentiment] = useState([]);\n\n  useEffect(() => {\n    sendRequest(\"/twitter/sentiment\").then((res) => {\n      setData(res.data.data);\n    });\n  }, []);\n\n  //设置x轴和y轴的值 处理数据\n  useEffect(() => {\n    const newCountries = [];\n    const newSentiments = [];\n    data.map((item) => {\n      newCountries.push(item.gcc);\n      newSentiments.push(item.sentiment_avg);\n    });\n    //收到20万条数据\n    setCountry(newCountries);\n    setSentiment(newSentiments);\n  }, [data]);\n\n  //写入表格\n  const getOption = () => {\n    return {\n      tooltip: {\n        trigger: \"axis\",\n      },\n      grid: {\n        left: \"3%\",\n        right: \"4%\",\n        bottom: \"3%\",\n        containLabel: true,\n      },\n      title: {\n        text: \"Overall Sentiment Analysis\",\n        left: \"center\",\n        textStyle: {\n          color: \"purple\",\n        },\n      },\n      xAxis: {\n        type: \"category\",\n        data: country,\n      },\n      yAxis: {\n        type: \"value\",\n      },\n      series: [\n        {\n          type: \"bar\",\n          data: sentiment,\n          itemStyle: {\n            // color: \"#F0CAA3\",\n            color: \"#0099ff\",\n          },\n        },\n      ],\n    };\n  };\n  return (\n    <ReactECharts\n      option={getOption()}\n      style={{ height: \"100%\", width: \"100%\" }}\n    />\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,mBAAmB;AAC5C,SAASC,WAAW,QAAQ,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACzC,OAAO,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACdE,WAAW,CAAC,oBAAoB,CAAC,CAACW,IAAI,CAAEC,GAAG,IAAK;MAC9CN,OAAO,CAACM,GAAG,CAACP,IAAI,CAACA,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAP,SAAS,CAAC,MAAM;IACd,MAAMe,YAAY,GAAG,EAAE;IACvB,MAAMC,aAAa,GAAG,EAAE;IACxBT,IAAI,CAACU,GAAG,CAAEC,IAAI,IAAK;MACjBH,YAAY,CAACI,IAAI,CAACD,IAAI,CAACE,GAAG,CAAC;MAC3BJ,aAAa,CAACG,IAAI,CAACD,IAAI,CAACG,aAAa,CAAC;IACxC,CAAC,CAAC;IACF;IACAX,UAAU,CAACK,YAAY,CAAC;IACxBH,YAAY,CAACI,aAAa,CAAC;EAC7B,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMe,SAAS,GAAGA,CAAA,KAAM;IACtB,OAAO;MACLC,OAAO,EAAE;QACPC,OAAO,EAAE;MACX,CAAC;MACDC,IAAI,EAAE;QACJC,IAAI,EAAE,IAAI;QACVC,KAAK,EAAE,IAAI;QACXC,MAAM,EAAE,IAAI;QACZC,YAAY,EAAE;MAChB,CAAC;MACDC,KAAK,EAAE;QACLC,IAAI,EAAE,4BAA4B;QAClCL,IAAI,EAAE,QAAQ;QACdM,SAAS,EAAE;UACTC,KAAK,EAAE;QACT;MACF,CAAC;MACDC,KAAK,EAAE;QACLC,IAAI,EAAE,UAAU;QAChB5B,IAAI,EAAEE;MACR,CAAC;MACD2B,KAAK,EAAE;QACLD,IAAI,EAAE;MACR,CAAC;MACDE,MAAM,EAAE,CACN;QACEF,IAAI,EAAE,KAAK;QACX5B,IAAI,EAAEI,SAAS;QACf2B,SAAS,EAAE;UACT;UACAL,KAAK,EAAE;QACT;MACF,CAAC;IAEL,CAAC;EACH,CAAC;EACD,oBACE7B,OAAA,CAACH,YAAY;IACXsC,MAAM,EAAEjB,SAAS,CAAC,CAAE;IACpBkB,KAAK,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAO;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1C,CAAC;AAEN;AAACxC,EAAA,CApEeD,aAAa;AAAA0C,EAAA,GAAb1C,aAAa;AAAA,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}